<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>

    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <withJansi>true</withJansi>
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>${CONSOLE_LOG_THRESHOLD}</level>
        </filter>
        <encoder>
            <pattern>${CONSOLE_LOG_PATTERN}</pattern>
            <charset>${CONSOLE_LOG_CHARSET}</charset>
        </encoder>
    </appender>

    <root level="ERROR">
        <appender-ref ref="CONSOLE"/>
    </root>

    <!-- Hide Hibernate deprecation warnings -->
    <logger name="org.hibernate.orm.deprecation" level="ERROR">
        <appender-ref ref="CONSOLE"/>
    </logger>

    <springProfile name="development">
        <logger name="StackTrace" level="ERROR"/>
        <!-- Uncomment next two lines to log out SQL queries (also look in application.yml under dataSource) -->
        <!--<logger name="org.hibernate.SQL" level="DEBUG" additivity="false"><appender-ref ref="CONSOLE"/></logger>-->
        <!--<logger name="org.hibernate.type.descriptor.sql.BasicBinder" level="TRACE" additivity="false"><appender-ref ref="CONSOLE"/></logger>-->

        <!-- Uncomment next two lines to log Spring Security -->
        <!--<logger name="org.springframework.security" level="DEBUG" additivity="false"><appender-ref ref="CONSOLE"/></logger>-->
        <!--<logger name="grails.plugin.springsecurity" level="DEBUG" additivity="false"><appender-ref ref="CONSOLE"/></logger>-->

        <!-- Uncomment next line to log Inertia plugin -->
        <!--<logger name="grails.plugin.inertia" level="DEBUG" additivity="false"><appender-ref ref="CONSOLE"/></logger>-->

        <!-- Uncomment next two lines to log Grails web mappings -->
        <!--<logger name="org.grails.web.mapping" level="DEBUG" additivity="false"><appender-ref ref="CONSOLE"/></logger>-->
        <!--<logger name="grails.web.mapping" level="DEBUG" additivity="false"><appender-ref ref="CONSOLE"/></logger>-->
    </springProfile>

</configuration>